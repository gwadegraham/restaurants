mysql> SHOW TABLES;
+--------------------+
| Tables_in_gwgraham |
+--------------------+
| Dish               |
| FoodOrder          |
| MenuItem           |
| Restaurant         |
+--------------------+
4 rows in set (0.00 sec)

mysql> DESC Dish;
+----------+----------------------+------+-----+---------+-------+
| Field    | Type                 | Null | Key | Default | Extra |
+----------+----------------------+------+-----+---------+-------+
| dishNo   | int(11)              | NO   | PRI | NULL    |       |
| dishname | char(15)             | NO   |     | NULL    |       |
| type     | enum('ap','en','ds') | YES  |     | NULL    |       |
+----------+----------------------+------+-----+---------+-------+
3 rows in set (0.00 sec)

mysql> DESC FoodOrder;
+---------+---------+------+-----+---------+-------+
| Field   | Type    | Null | Key | Default | Extra |
+---------+---------+------+-----+---------+-------+
| orderNo | int(11) | NO   | PRI | NULL    |       |
| itemNo  | int(11) | YES  | MUL | NULL    |       |
| dt      | date    | YES  |     | NULL    |       |
| ts      | time    | NO   |     | NULL    |       |
+---------+---------+------+-----+---------+-------+
4 rows in set (0.00 sec)

mysql> DESC MenuItem;
+--------------+--------------+------+-----+---------+-------+
| Field        | Type         | Null | Key | Default | Extra |
+--------------+--------------+------+-----+---------+-------+
| itemNo       | int(11)      | NO   | PRI | NULL    |       |
| restaurantNo | int(11)      | YES  | MUL | NULL    |       |
| dishNo       | int(11)      | YES  | MUL | NULL    |       |
| price        | decimal(4,2) | YES  |     | NULL    |       |
+--------------+--------------+------+-----+---------+-------+
4 rows in set (0.00 sec)

mysql> DESC Restaurant;
+----------------+----------+------+-----+---------+-------+
| Field          | Type     | Null | Key | Default | Extra |
+----------------+----------+------+-----+---------+-------+
| restaurantID   | int(11)  | NO   | PRI | NULL    |       |
| restaurantName | char(15) | NO   |     | NULL    |       |
| type           | char(15) | NO   |     | NULL    |       |
| city           | char(15) | NO   |     | NULL    |       |
+----------------+----------+------+-----+---------+-------+
4 rows in set (0.00 sec)

mysql> SHOW CREATE TABLE Dish;
+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                   |
+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Dish  | CREATE TABLE `Dish` (
  `dishNo` int(11) NOT NULL,
  `dishname` char(15) NOT NULL,
  `type` enum('ap','en','ds') DEFAULT NULL,
  PRIMARY KEY (`dishNo`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 |
+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> SHOW CREATE TABLE FoodOrder;
+-----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table     | Create Table                                                                                                                                                                                                                                                                                                                                     |
+-----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| FoodOrder | CREATE TABLE `FoodOrder` (
  `orderNo` int(11) NOT NULL,
  `itemNo` int(11) DEFAULT NULL,
  `dt` date DEFAULT NULL,
  `ts` time NOT NULL,
  PRIMARY KEY (`orderNo`),
  KEY `itemNo` (`itemNo`),
  CONSTRAINT `FoodOrder_ibfk_1` FOREIGN KEY (`itemNo`) REFERENCES `MenuItem` (`itemNo`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1 |
+-----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> SHOW CREATE TABLE MenuItem;
+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table    | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| MenuItem | CREATE TABLE `MenuItem` (
  `itemNo` int(11) NOT NULL,
  `restaurantNo` int(11) DEFAULT NULL,
  `dishNo` int(11) DEFAULT NULL,
  `price` decimal(4,2) DEFAULT NULL,
  PRIMARY KEY (`itemNo`),
  KEY `restaurantNo` (`restaurantNo`),
  KEY `dishNo` (`dishNo`),
  CONSTRAINT `MenuItem_ibfk_1` FOREIGN KEY (`restaurantNo`) REFERENCES `Restaurant` (`restaurantID`),
  CONSTRAINT `MenuItem_ibfk_2` FOREIGN KEY (`dishNo`) REFERENCES `Dish` (`dishNo`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 |
+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> SHOW CREATE TABLE Restaurant;
+------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table      | Create Table                                                                                                                                                                                                                       |
+------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Restaurant | CREATE TABLE `Restaurant` (
  `restaurantID` int(11) NOT NULL,
  `restaurantName` char(15) NOT NULL,
  `type` char(15) NOT NULL,
  `city` char(15) NOT NULL,
  PRIMARY KEY (`restaurantID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 |
+------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> SELECT COLUMN_NAME, CONSTRAINT_NAME, REFERENCED_COLUMN_NAME, REFERENCED_TABLE_NAME FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE  WHERE REFERENCED_COLUMN_NAME IS NOT NULL AND CONSTRAINT_SCHEMA = 'gwgraham';
+--------------+------------------+------------------------+-----------------------+
| COLUMN_NAME  | CONSTRAINT_NAME  | REFERENCED_COLUMN_NAME | REFERENCED_TABLE_NAME |
+--------------+------------------+------------------------+-----------------------+
| itemNo       | FoodOrder_ibfk_1 | itemNo                 | MenuItem              |
| restaurantNo | MenuItem_ibfk_1  | restaurantID           | Restaurant            |
| dishNo       | MenuItem_ibfk_2  | dishNo                 | Dish                  |
+--------------+------------------+------------------------+-----------------------+
3 rows in set (0.01 sec)

mysql> SELECT*FROM Restaurant;
+--------------+----------------+-------+--------------+
| restaurantID | restaurantName | type  | city         |
+--------------+----------------+-------+--------------+
|            0 | Tasty Thai     | Asian | Dallas       |
|            3 | Eureka Pizza   | Pizza | Fayetteville |
|            5 | Tasty Thai     | Asian | Las Vegas    |
+--------------+----------------+-------+--------------+
3 rows in set (0.00 sec)

mysql> SELECT*FROM Dish;
+--------+-----------------+------+
| dishNo | dishname        | type |
+--------+-----------------+------+
|      7 | Cheese Pizza    | en   |
|     10 | Custard         | ds   |
|     12 | Garlic Bread    | ap   |
|     13 | Spring Rolls    | ap   |
|     15 | Pad Thai        | en   |
|     16 | Pot Stickers    | ap   |
|     19 | Pepperoni Pizza | en   |
|     22 | Masaman Curry   | en   |
|     44 | Salad           | ap   |
|     77 | Veggie Supreme  | en   |
+--------+-----------------+------+
10 rows in set (0.00 sec)

mysql> SELECT*FROM MenuItem;
+--------+--------------+--------+-------+
| itemNo | restaurantNo | dishNo | price |
+--------+--------------+--------+-------+
|      0 |            0 |     13 |  8.00 |
|      1 |            0 |     16 |  9.00 |
|      2 |            0 |     44 | 10.00 |
|      3 |            0 |     15 | 19.00 |
|      4 |            0 |     22 | 19.00 |
|      5 |            3 |     44 |  6.25 |
|      6 |            3 |     12 |  5.50 |
|      7 |            3 |      7 | 12.50 |
|      8 |            3 |     19 | 13.50 |
|      9 |            5 |     13 |  6.00 |
|     10 |            5 |     15 | 15.00 |
|     11 |            5 |     22 | 14.00 |
+--------+--------------+--------+-------+
12 rows in set (0.00 sec)

mysql> SELECT*FROM FoodOrder;
+---------+--------+------------+----------+
| orderNo | itemNo | dt         | ts       |
+---------+--------+------------+----------+
|       0 |      2 | 2017-03-01 | 10:30:00 |
|       1 |      0 | 2017-03-02 | 15:33:00 |
|       2 |      3 | 2017-03-01 | 15:35:00 |
|       3 |      5 | 2017-03-03 | 21:00:00 |
|       4 |      7 | 2017-03-01 | 18:11:00 |
|       5 |      7 | 2017-03-04 | 18:51:00 |
|       6 |      9 | 2017-03-01 | 19:00:00 |
|       7 |     11 | 2017-03-05 | 17:15:00 |
+---------+--------+------------+----------+
8 rows in set (0.01 sec)

mysql> SELECT Restaurant.restaurantName, Restaurant.city
    ->     FROM Restaurant, MenuItem
    ->     WHERE MenuItem.dishNo = '44' AND MenuItem.restaurantNo = Restaurant.restaurantID;
+----------------+--------------+
| restaurantName | city         |
+----------------+--------------+
| Tasty Thai     | Dallas       |
| Eureka Pizza   | Fayetteville |
+----------------+--------------+
2 rows in set (0.00 sec)

mysql> SELECT DISTINCT Restaurant.restaurantName, Dish.dishName, MenuItem.price
    ->     FROM Dish, MenuItem, Restaurant
    ->     WHERE MenuItem.restaurantNo IN ('0', '5') AND Dish.dishNo = MenuItem.dishNo
    ->           AND MenuItem.restaurantNo = Restaurant.restaurantID
    ->     ORDER BY MenuItem.price ASC;
+----------------+---------------+-------+
| restaurantName | dishName      | price |
+----------------+---------------+-------+
| Tasty Thai     | Spring Rolls  |  6.00 |
| Tasty Thai     | Spring Rolls  |  8.00 |
| Tasty Thai     | Pot Stickers  |  9.00 |
| Tasty Thai     | Salad         | 10.00 |
| Tasty Thai     | Masaman Curry | 14.00 |
| Tasty Thai     | Pad Thai      | 15.00 |
| Tasty Thai     | Masaman Curry | 19.00 |
| Tasty Thai     | Pad Thai      | 19.00 |
+----------------+---------------+-------+
8 rows in set (0.00 sec)

mysql> SELECT DISTINCT Restaurant.restaurantName, Restaurant.city,
    ->                     COUNT(DISTINCT MenuItem.dishNo) AS MenuItems,
    ->                     ROUND(AVG(MenuItem.price), 2) AS AveragePrice
    ->     FROM Restaurant, MenuItem, Dish
    ->     WHERE Restaurant.restaurantID = MenuItem.restaurantNo AND MenuItem.dishNo = Dish.dishNo
    ->           AND MenuItem.dishNo = Dish.dishNo
    ->     GROUP BY Restaurant.restaurantID;
+----------------+--------------+-----------+--------------+
| restaurantName | city         | MenuItems | AveragePrice |
+----------------+--------------+-----------+--------------+
| Tasty Thai     | Dallas       |         5 |        13.00 |
| Eureka Pizza   | Fayetteville |         4 |         9.44 |
| Tasty Thai     | Las Vegas    |         3 |        11.67 |
+----------------+--------------+-----------+--------------+
3 rows in set (0.00 sec)

mysql> SELECT Restaurant.restaurantName, COUNT(FoodOrder.itemNo) AS TotalOrders,
    ->            ROUND(AVG(MenuItem.price), 2) AS AverageBasePrice,
    ->            SUM(MenuItem.price) AS TotalBasePrice,
    ->            1.1 * SUM(MenuItem.price) AS TotalWithTax
    ->     FROM Restaurant, FoodOrder, MenuItem
    ->     WHERE restaurantID = '3' AND FoodOrder.itemNo = MenuItem.itemNo
    ->           AND MenuItem.restaurantNo = '3';
+----------------+-------------+------------------+----------------+--------------+
| restaurantName | TotalOrders | AverageBasePrice | TotalBasePrice | TotalWithTax |
+----------------+-------------+------------------+----------------+--------------+
| Eureka Pizza   |           3 |            10.42 |          31.25 |       34.375 |
+----------------+-------------+------------------+----------------+--------------+
1 row in set (0.00 sec)

mysql> SELECT COUNT(FoodOrder.itemNo) AS TotalOrders,
    ->            ROUND(AVG(MenuItem.price), 2) AS AverageBasePrice,
    ->            SUM(MenuItem.price) AS TotalBasePrice,
    ->            1.1 * SUM(MenuItem.price) AS TotalWithTax
    ->     FROM FoodOrder, MenuItem
    ->     WHERE FoodOrder.itemNo = MenuItem.itemNo;
+-------------+------------------+----------------+--------------+
| TotalOrders | AverageBasePrice | TotalBasePrice | TotalWithTax |
+-------------+------------------+----------------+--------------+
|           8 |            11.03 |          88.25 |       97.075 |
+-------------+------------------+----------------+--------------+
1 row in set (0.00 sec)

mysql> notee
